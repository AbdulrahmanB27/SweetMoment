<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sweet Moment Chocolates</title>
  
  <!-- Enhanced Resource Path Fixing for GitHub Pages - runs first -->
  <script src="resource-path-fixer.js"></script>
  
  <!-- Backup path fixing for GitHub Pages -->
  <script src="github-paths.js"></script>
  
  <!-- Default base path that may be overridden by path fixer scripts -->
  <base href="/SweetMoment/">
  
  <!-- Stylesheet with path that will be fixed if needed -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Alternative stylesheet loading as fallback -->
  <script>
    // Backup CSS loading mechanism
    document.addEventListener('DOMContentLoaded', function() {
      // If style.css didn't load, try with absolute repository path
      setTimeout(function() {
        if (document.querySelectorAll('style').length === 0) {
          var repositoryName = window.location.pathname.split('/')[1];
          if (repositoryName && window.location.hostname.includes('github.io')) {
            console.log('Attempting backup CSS loading for ' + repositoryName);
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = '/' + repositoryName + '/style.css';
            document.head.appendChild(link);
          }
        }
      }, 500);
    });
  </script>
  
  <!-- GitHub Pages SPA compatibility -->
  <script type="text/javascript">
    // Single Page Apps for GitHub Pages
    // MIT License
    // https://github.com/rafgraph/spa-github-pages
    (function(l) {
      if (l.search[1] === '/' ) {
        var decoded = l.search.slice(1).split('&').map(function(s) { 
          return s.replace(/~and~/g, '&')
        }).join('?');
        window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
        );
      }
    }(window.location))
  </script>
</head>
<body>
  <div id="root"></div>
  <script src="bundle.js"></script>
  
  <!-- Backup script loading mechanism -->
  <script>
    // Ensure bundle.js is loaded even if the first attempt fails
    window.addEventListener('load', function() {
      setTimeout(function() {
        if (typeof window.React === 'undefined') {
          console.log('React not detected, attempting backup bundle loading');
          var repositoryName = window.location.pathname.split('/')[1];
          if (repositoryName && window.location.hostname.includes('github.io')) {
            var script = document.createElement('script');
            script.src = '/' + repositoryName + '/bundle.js';
            document.body.appendChild(script);
          }
        }
      }, 1000);
    });
  </script>
</body>
</html>