<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sweet Moment Chocolates</title>
  <meta name="description" content="Experience luxury handcrafted chocolates from Sweet Moment - the perfect gift for any occasion." />
  <!-- STATIC_CSS_PLACEHOLDER -->
  <!-- STATIC_METADATA_PLACEHOLDER -->
  <script>
    // Set up global static site configuration
    window.STATIC_SITE_MODE = true;
    window.STATIC_SITE_BASE_URL = ''; // Will be filled during build
    window.STATIC_SITE_GENERATED_AT = '<!-- STATIC_TIMESTAMP_PLACEHOLDER -->'; 
    
    // GitHub Pages repository name detection (for router fix)
    window.REPO_NAME = '<!-- REPO_NAME_PLACEHOLDER -->'; // Will be filled during build
    
    // Static data will be injected here during build
    window.STATIC_DATA = <!-- STATIC_DATA_PLACEHOLDER -->;
    
    // Flag to indicate this is a fixed version with enhanced router fixes (v5.0)
    window.STATIC_SITE_ROUTER_FIXED = true;
    window.ROUTER_FIX_VERSION = '5.0';
    
    // Use hash routing instead of browser routing for GitHub Pages compatibility
    window.USE_HASH_ROUTER = true;
  </script>
  
  <!-- MAXIMUM FORCE PATH FIX (v4.0) - Most aggressive handling of URLs - must be loaded first -->
  <script src="duplicate-path-fix.js"></script>
  
  <!-- Enhanced GitHub Pages router fix v5.0 (fallback for any URL issues not caught above) -->
  <script src="enhanced-router-fix.js"></script>
  
  <script>
    // Periodic path check - final safety measure
    (function() {
      // Run after a short delay to ensure page has loaded
      setTimeout(function() {
        // Check for SweetMoment in the current URL hash and clean if needed
        if (window.location.hash && window.location.hash.toLowerCase().includes('/sweetmoment/')) {
          console.warn('[EmergencyFix] Detected repository name in hash after all checks!');
          
          // Get the path after SweetMoment
          const lowerHash = window.location.hash.toLowerCase();
          const sweetMomentIndex = lowerHash.indexOf('/sweetmoment/');
          
          if (sweetMomentIndex >= 0) {
            // Extract path after SweetMoment (add 12 for the length of "/sweetmoment")
            const nextSlashIndex = lowerHash.indexOf('/', sweetMomentIndex + 12);
            const pathAfterRepo = nextSlashIndex > 0 
              ? window.location.hash.substring(nextSlashIndex)
              : '/'; 
            
            // Construct clean URL
            const cleanHash = '#' + pathAfterRepo;
            
            // Force-replace the hash with clean version
            console.log('[EmergencyFix] Forcing path update: ' + window.location.hash + ' â†’ ' + cleanHash);
            window.location.hash = cleanHash;
          }
        }
      }, 300);
    })();
  </script>
</head>
<body>
  <div id="root"></div>
  
  <!-- Fix relative paths in CSS and other resources -->
  <script>
    // This will be replaced with the actual script during build
    // <!-- STATIC_RESOURCE_FIXER_PLACEHOLDER -->
  </script>
  
  <!-- STATIC_SCRIPTS_PLACEHOLDER -->
</body>
</html>